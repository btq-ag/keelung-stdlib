module Test.Semaphore where

import Keelung
import Hash.Poseidon
import MerkleTree
import Semaphore


testIdNullifier :: GF181
testIdNullifier = 100

testIdTrapdoor :: GF181
testIdTrapdoor = 200

testCommit = gf181 (hash (toArray [100,200]) >>= \x -> hash $ toArray [x] ) []
commit = 620286639676869995719192907620068921939203646593573970

testRoot = gf181 (hash $ toArray [1,2,3,commit,5]) []
root = 679470050792861189941952689860033254511630091112753225

testMemberCheck = gf181 (checkMerkleProof 1 679470050792861189941952689860033254511630091112753225) [620286639676869995719192907620068921939203646593573970,1,2,3,620286639676869995719192907620068921939203646593573970,5,3]

testSemaphoreProof = gf181 (checkSignal 1 679470050792861189941952689860033254511630091112753225 (toArray []) 123 300) [100,200,1,2,3,620286639676869995719192907620068921939203646593573970,5,3]